(this["webpackJsonpreact-introduction-code-along"]=this["webpackJsonpreact-introduction-code-along"]||[]).push([[0],{56:function(e,t,a){e.exports=a(87)},87:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(30),s=a.n(c),i=a(2),l=a(52),o=a.n(l);var u=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"searchBarContainer"},r.a.createElement("div",{className:"iconContainer"},r.a.createElement(o.a,null)),r.a.createElement("input",{placeholder:"enter a NASA-related search term!",defaultValue:e.keyword,className:"searchBar",onChange:function(t){e.updateTerm(t.target.value)}})))};function m(){return r.a.createElement("p",{className:"heading"},"NASA Image API Search Engine")}function d(){return r.a.createElement("p",{className:"heading2"},"NASA Image API Search Engine")}var p=a(3);var g=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],s=a[1],l=Object(n.useState)(!1),o=Object(i.a)(l,2),u=o[0],m=o[1],d=Object(n.useState)(!1),g=Object(i.a)(d,2);function E(){e.keyword&&(s(!0),m(!0),e.update&&e.update())}return g[0],g[1],Object(n.useEffect)((function(){var e=function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||E()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}})),Object(n.useEffect)((function(){m(!1)}),[e.imgURL]),r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"searchButton",onClick:E},!e.loaded&&u?"Loading...":e.text),c&&""!=e.redirect?r.a.createElement(p.a,{to:e.redirect}):r.a.createElement(r.a.Fragment,null))},E=a(16);var f=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],s=a[1],l=Object(E.useSpring)({opacity:c?1:0,config:{duration:1e3}});return Object(n.useEffect)((function(){s(!0)}),[]),r.a.createElement("section",{className:"main"},r.a.createElement(E.animated.div,{className:"searchContainer",style:l},r.a.createElement(m,null),r.a.createElement(u,{keyword:e.keyword,updateTerm:e.update}),r.a.createElement(g,{setFirstSearch:e.setFirstSearch,keyword:e.keyword,text:"Search",redirect:"results"})))},b=a(15),h=a.n(b),O=a(18),v=a(21),j=a.n(v),y=a(54),N=a.n(y);var S=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],s=a[1],l=Object(E.useSpring)({opacity:c?1:0,config:{duration:100}});return Object(n.useEffect)((function(){s(!0)}),[]),r.a.createElement(E.animated.div,{className:"displayContainer",style:l},r.a.createElement("div",{className:"displayCard"},r.a.createElement("button",{className:"exitButton",onClick:e.exit},r.a.createElement(N.a,null)),r.a.createElement("div",{className:"displayTitleBox"},r.a.createElement("p",{className:"displayTitle"},e.displayTitle)),r.a.createElement("div",{className:"displayImgBox"},r.a.createElement("img",{className:"displayImg",src:e.displayImg,alt:"image not found"})),r.a.createElement("div",{className:"displayDescriptionBox"},r.a.createElement("p",{className:"displayDescription"},e.displayTitle!=e.displayDescription?e.displayDescription:""))))};var k=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],s=a[1],l=Object(E.useSpring)({opacity:c?1:0,config:{duration:1e3}}),o=Object(n.useState)([]),m=Object(i.a)(o,2),p=m[0],f=m[1],b=Object(n.useState)([]),v=Object(i.a)(b,2),y=(v[0],v[1]),N=Object(n.useState)([]),k=Object(i.a)(N,2),w=k[0],x=k[1],C=Object(n.useState)([]),T=Object(i.a)(C,2),I=T[0],F=T[1],L=Object(n.useState)(""),A=Object(i.a)(L,2),B=A[0],D=A[1],R=Object(n.useState)(""),J=Object(i.a)(R,2),P=J[0],q=J[1],H=Object(n.useState)(""),U=Object(i.a)(H,2),G=U[0],M=U[1],V=Object(n.useState)(!1),Y=Object(i.a)(V,2),z=Y[0],K=Y[1],Q=Object(n.useState)(!0),W=Object(i.a)(Q,2),X=W[0],Z=W[1];function $(){e.keyword?j.a.get("".concat("https://images-api.nasa.gov","/search?q=").concat(e.keyword)).then((function(e){console.log(e);for(var t=e.data.collection.items,a=[],n=0;n<t.length;++n)t[n].href.includes("/image/")&&a.push(t[n].href);!function(e){te.apply(this,arguments)}(a)})).catch((function(e){alert("an error has occurred, please refresh and try again"),window.location.reload(),console.log(e)})):Z(!1)}function _(e){var t=e.length;return e.includes("Read More")&&(t=String(e).indexOf("Read more")),String(e).substring(0,t)}function ee(e){var t=String(e);return t.substring(0,4)+"s"+t.substring(4)}function te(){return(te=Object(O.a)(h.a.mark((function e(t){var a,n,r,c,s,i,l,o,u,m,d,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(t),0!=t.length){e.next=7;break}return f([]),x([]),F([]),Z(!1),e.abrupt("return");case 7:a=[],n=[],r=[],c=0;case 11:if(!(a.length<10&&c<t.length)){e.next=33;break}return e.next=14,j.a.get(t[c]);case 14:if(s=e.sent,!(i=JSON.parse(JSON.stringify(s))).data[0].includes("jpg")){e.next=20;break}a.push(ee(i.data[0])),e.next=22;break;case 20:return++c,e.abrupt("continue",11);case 22:return e.next=24,j.a.get(i.data[i.data.length-1]);case 24:for(m in l=e.sent,o=JSON.parse(JSON.stringify(l)).data,u={},o)d=m.includes(":")?m.split(":")[1].toLowerCase():m.toLowerCase(),p=o[m],u[d]=p;n.push(_(u.description)),r.push(u.title),++c,e.next=11;break;case 33:f(a),x(r),F(n),Z(!1);case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){$()}),[e.firstSearch]),Object(n.useEffect)((function(){s(!0)}),[]),r.a.createElement("section",{className:"main"},z?r.a.createElement(S,{displayDescription:G,displayTitle:P,displayImg:B,displaying:z,exit:function(){K(!1)}}):r.a.createElement(r.a.Fragment,null),r.a.createElement(E.animated.div,{className:"searchContainer",style:l},r.a.createElement("div",{className:"resultsContainer"},r.a.createElement("div",{className:"resultsTopContainer"},r.a.createElement("div",{className:"heading2Container"},r.a.createElement(d,null)),r.a.createElement(u,{keyword:e.keyword,updateTerm:e.update}),r.a.createElement(g,{imgURL:p,update:$,keyword:e.keyword,text:"Search",redirect:""})),r.a.createElement("div",{className:"resultsBottomContainer"},z?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"resultsList"},0!=p.length?p.map((function(e,t){if(t<10)return r.a.createElement("div",{className:"resultsItem",key:t,onClick:function(){!function(e,t,a){M(a),q(t),D(e),K(!0)}(p[t],w[t],I[t])}},r.a.createElement("div",{className:"imgContainer"},r.a.createElement("div",{className:"imgPlaceHolder"},r.a.createElement("img",{className:"resultImg",src:p[t]}))),r.a.createElement("p",{className:"resultTitle"},w[t]?w[t]:"loading..."),r.a.createElement("p",{className:"resultDescription"},I[t]?(a=I[t],String(a).length<50?a:String(a).substring(0,50)+"..."):"loading..."));var a})):r.a.createElement("div",{className:"noResults"},r.a.createElement("span",{className:"noResults"},e.firstSearch&&X?"Loading...":"No Results")))))))};var w=function(){return r.a.createElement("section",{className:"main"},r.a.createElement("div",{className:"searchContainer"},r.a.createElement("p",{className:"heading"},"The Page You Are Looking For Does Not Exist"),r.a.createElement(g,{text:"Go To Home",redirect:"/"})))};var x=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)("firstSearch"),l=Object(i.a)(s,2),o=l[0],u=l[1],m=Object(n.useState)([]),d=Object(i.a)(m,2),g=d[0],E=d[1];function b(e){c(e),e&&j.a.get("".concat("https://images-api.nasa.gov","/search?q=").concat(e)).then((function(e){for(var t=e.data.collection.items,a=[],n=0;n<t.length;++n)t[n].href.includes("/image/")&&a.push(t[n].href);E(a)})).catch((function(e){console.log(e)}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement("meta",{name:"viewport",content:"initial-scale=1, maximum-scale=1"}),r.a.createElement("div",{className:"container"},r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/",element:r.a.createElement(f,{setFirstSearch:u,keyword:a,update:b})}),r.a.createElement(p.b,{path:"/results",element:r.a.createElement(k,{firstSearch:o,urls:g,keyword:a,update:b})}),r.a.createElement(p.b,{path:"*",element:r.a.createElement(w,null)}))))},C=a(29);s.a.render(r.a.createElement(C.a,null,r.a.createElement(x,null)),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.a46dc8fe.chunk.js.map