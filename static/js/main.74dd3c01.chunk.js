(this["webpackJsonpreact-introduction-code-along"]=this["webpackJsonpreact-introduction-code-along"]||[]).push([[0],{56:function(e,t,a){e.exports=a(87)},87:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(30),s=a.n(r),l=a(2),i=a(52),o=a.n(i);var u=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"searchBarContainer"},c.a.createElement("div",{className:"iconContainer"},c.a.createElement(o.a,null)),c.a.createElement("input",{placeholder:"enter a NASA-related search term!",defaultValue:e.keyword,className:"searchBar",onChange:function(t){e.updateTerm(t.target.value)}})))};function m(){return c.a.createElement("p",{className:"heading"},"NASA Image API Search Engine")}function d(){return c.a.createElement("p",{className:"heading2"},"NASA Image API Search Engine")}var p=a(3);var g=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)(!1),o=Object(l.a)(i,2),u=o[0],m=o[1],d=Object(n.useState)(!1),g=Object(l.a)(d,2);function E(){e.keyword&&(s(!0),m(!0),e.update&&e.update())}return g[0],g[1],Object(n.useEffect)((function(){var e=function(e){"Enter"!==e.code&&"NumpadEnter"!==e.code||E()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}})),Object(n.useEffect)((function(){m(!1)}),[e.imgURL]),c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{className:"searchButton",onClick:E},!e.loaded&&u?"Loading...":e.text),r&&""!=e.redirect?c.a.createElement(p.a,{to:e.redirect}):c.a.createElement(c.a.Fragment,null))},E=a(16);var f=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],s=a[1],i=Object(E.useSpring)({opacity:r?1:0,config:{duration:1e3}});return Object(n.useEffect)((function(){s(!0)}),[]),c.a.createElement("section",{className:"main"},c.a.createElement(E.animated.div,{className:"searchContainer",style:i},c.a.createElement(m,null),c.a.createElement(u,{keyword:e.keyword,updateTerm:e.update}),c.a.createElement(g,{setFirstSearch:e.setFirstSearch,keyword:e.keyword,text:"Search",redirect:"results"})))},b=a(15),h=a.n(b),O=a(18),v=a(21),j=a.n(v),y=a(54),N=a.n(y);var S=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],s=a[1],i=Object(E.useSpring)({opacity:r?1:0,config:{duration:100}});return Object(n.useEffect)((function(){s(!0)}),[]),c.a.createElement(E.animated.div,{className:"displayContainer",style:i},c.a.createElement("div",{className:"displayCard"},c.a.createElement("button",{className:"exitButton",onClick:e.exit},c.a.createElement(N.a,null)),c.a.createElement("div",{className:"displayTitleBox"},c.a.createElement("p",{className:"displayTitle"},e.displayTitle)),c.a.createElement("div",{className:"displayImgBox"},c.a.createElement("img",{className:"displayImg",src:e.displayImg,alt:"image not found"})),c.a.createElement("div",{className:"displayDescriptionBox"},c.a.createElement("p",{className:"displayDescription"},e.displayTitle!=e.displayDescription?e.displayDescription:""))))};var k=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),r=a[0],s=a[1],i=Object(E.useSpring)({opacity:r?1:0,config:{duration:1e3}}),o=Object(n.useState)([]),m=Object(l.a)(o,2),p=m[0],f=m[1],b=Object(n.useState)([]),v=Object(l.a)(b,2),y=(v[0],v[1]),N=Object(n.useState)([]),k=Object(l.a)(N,2),w=k[0],x=k[1],C=Object(n.useState)([]),T=Object(l.a)(C,2),I=T[0],F=T[1],L=Object(n.useState)(""),A=Object(l.a)(L,2),B=A[0],D=A[1],R=Object(n.useState)(""),J=Object(l.a)(R,2),P=J[0],q=J[1],H=Object(n.useState)(""),U=Object(l.a)(H,2),G=U[0],M=U[1],V=Object(n.useState)(!1),Y=Object(l.a)(V,2),z=Y[0],K=Y[1],Q=Object(n.useState)(!0),W=Object(l.a)(Q,2),X=W[0],Z=W[1];function $(){e.keyword?j.a.get("".concat("https://images-api.nasa.gov","/search?q=").concat(e.keyword)).then((function(e){console.log(e);for(var t=e.data.collection.items,a=[],n=0;n<t.length;++n)t[n].href.includes("/image/")&&a.push(t[n].href);!function(e){ee.apply(this,arguments)}(a)})).catch((function(e){alert("an error has occurred, please refresh and try again"),window.location.reload(),console.log(e)})):Z(!1)}function _(e){var t=e.length;return e.includes("Read More")&&(t=String(e).indexOf("Read more")),String(e).substring(0,t)}function ee(){return(ee=Object(O.a)(h.a.mark((function e(t){var a,n,c,r,s,l,i,o,u,m,d,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(t),0!=t.length){e.next=7;break}return f([]),x([]),F([]),Z(!1),e.abrupt("return");case 7:a=[],n=[],c=[],r=0;case 11:if(!(a.length<10&&r<t.length)){e.next=34;break}return console.log(r),e.next=15,j.a.get(t[r]);case 15:if(s=e.sent,!(l=JSON.parse(JSON.stringify(s))).data[0].includes("jpg")){e.next=21;break}a.push(l.data[0]),e.next=23;break;case 21:return++r,e.abrupt("continue",11);case 23:return e.next=25,j.a.get(l.data[l.data.length-1]);case 25:for(m in i=e.sent,o=JSON.parse(JSON.stringify(i)).data,u={},o)d=m.includes(":")?m.split(":")[1].toLowerCase():m.toLowerCase(),p=o[m],u[d]=p;n.push(_(u.description)),c.push(u.title),++r,e.next=11;break;case 34:f(a),x(c),F(n),Z(!1);case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){$()}),[e.firstSearch]),Object(n.useEffect)((function(){s(!0)}),[]),c.a.createElement("section",{className:"main"},z?c.a.createElement(S,{displayDescription:G,displayTitle:P,displayImg:B,displaying:z,exit:function(){K(!1)}}):c.a.createElement(c.a.Fragment,null),c.a.createElement(E.animated.div,{className:"searchContainer",style:i},c.a.createElement("div",{className:"resultsContainer"},c.a.createElement("div",{className:"resultsTopContainer"},c.a.createElement("div",{className:"heading2Container"},c.a.createElement(d,null)),c.a.createElement(u,{keyword:e.keyword,updateTerm:e.update}),c.a.createElement(g,{imgURL:p,update:$,keyword:e.keyword,text:"Search",redirect:""})),c.a.createElement("div",{className:"resultsBottomContainer"},z?c.a.createElement(c.a.Fragment,null):c.a.createElement("div",{className:"resultsList"},0!=p.length?p.map((function(e,t){if(t<10)return c.a.createElement("div",{className:"resultsItem",key:t,onClick:function(){!function(e,t,a){M(a),q(t),D(e),K(!0)}(p[t],w[t],I[t])}},c.a.createElement("div",{className:"imgContainer"},c.a.createElement("div",{className:"imgPlaceHolder"},c.a.createElement("img",{className:"resultImg",src:p[t]}))),c.a.createElement("p",{className:"resultTitle"},w[t]?w[t]:"loading..."),c.a.createElement("p",{className:"resultDescription"},I[t]?(a=I[t],String(a).length<50?a:String(a).substring(0,50)+"..."):"loading..."));var a})):c.a.createElement("div",{className:"noResults"},c.a.createElement("span",{className:"noResults"},e.firstSearch&&X?"Loading...":"No Results")))))))};var w=function(){return c.a.createElement("section",{className:"main"},c.a.createElement("div",{className:"searchContainer"},c.a.createElement("p",{className:"heading"},"The Page You Are Looking For Does Not Exist"),c.a.createElement(g,{text:"Go To Home",redirect:"/"})))};var x=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)("firstSearch"),i=Object(l.a)(s,2),o=i[0],u=i[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),g=d[0],E=d[1];function b(e){r(e),e&&j.a.get("".concat("https://images-api.nasa.gov","/search?q=").concat(e)).then((function(e){for(var t=e.data.collection.items,a=[],n=0;n<t.length;++n)t[n].href.includes("/image/")&&a.push(t[n].href);E(a)})).catch((function(e){console.log(e)}))}return c.a.createElement(c.a.Fragment,null,c.a.createElement("meta",{name:"viewport",content:"initial-scale=1, maximum-scale=1"}),c.a.createElement("div",{className:"container"},c.a.createElement(p.d,null,c.a.createElement(p.b,{path:"/",element:c.a.createElement(f,{setFirstSearch:u,keyword:a,update:b})}),c.a.createElement(p.b,{path:"/results",element:c.a.createElement(k,{firstSearch:o,urls:g,keyword:a,update:b})}),c.a.createElement(p.b,{path:"*",element:c.a.createElement(w,null)}))))},C=a(29);s.a.render(c.a.createElement(C.a,null,c.a.createElement(x,null)),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.74dd3c01.chunk.js.map